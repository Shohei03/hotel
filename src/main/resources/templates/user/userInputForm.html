<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
</head>
<body>
    <form class="form-signup container mt-4" layout:fragment="form" action="#" th:action="@{${actionUrl}}" method="post" th:object="${userForm}">
        <div class="form-group col-md-6">
            <label for="name">名前</label>
            <input type="text" class="form-control col-lg-6" id="name" name="name" th:field="*{name}" th:errorclass="is-invalid"/><br>
            <div class="invalid-feedback" th:errors="*{name}"></div>
        </div>

        <div class="form-group col-md-6">
            <label for="nameKana">名前（フリガナ）</label>
            <input type="text" class="form-control col-lg-6" id="nameKana" name="nameKana" th:field="*{nameKana}" th:errorclass="is-invalid"/><br>
            <div class="invalid-feedback" th:errors="*{nameKana}"></div>
        </div>

        <div class="form-group col-md-6">
            <label for="password">パスワード：</label>
            <input type="password" class="form-control col-lg-6" id="password" name="password" th:field="*{password}" th:errorclass="is-invalid"/><br>
            <div class="invalid-feedback" th:errors="*{password}"></div>
        </div>

        <div class="form-group col-md-6">
            <label for="post">郵便番号</label>
            <input type="text" class="form-control col-lg-4" id="post" name="post" th:field="*{post}" th:errorclass="is-invalid"/><br>
            <div class="invalid-feedback" th:errors="*{post}"></div>
        </div>

        <div class="form-group col-md-6">
            <label for="address">住所</label>
            <input type="text" class="form-control col-lg-6" id="address" name="address" th:field="*{address}"><br>
            <div class="invalid-feedback" th:errors="*{address}"></div>
        </div>

        <div class="form-group col-md-6">
            <label for="tel">電話番号：</label>
            <input type="text" class="form-control col-lg-6" id="tel" name="tel" th:field="*{tel}"><br>
            <div class="invalid-feedback" th:errors="*{tel}"></div>
        </div>

        <div class="form-group col-md-6">
            <label for="mail">メールアドレス：</label>
            <input type="text" class="form-control col-lg-6" id="mail" name="mail" th:field="*{mail}"><br>
            <div class="invalid-feedback" th:errors="*{mail}"></div>
        </div>

        <div class="mb-4">
            <label for="authority">権限：</label>
            <select id="authority" name="authority" th:field="*{authority}">
                <option th:value="USER">USER</option>
                <option sec:authorize="hasAuthority('ADMIN')" th:value="ADMIN">ADMIN</option>
            </select>
        </div>
        <p th:if="${#fields.hasErrors('authority')}" th:errors="*{authority}">エラーメッセージ</p>

        <input type="submit" th:if="${actionUrl == '/user/signup'}" th:value="登録">
        <input type="submit" th:if="${actionUrl == '/user/editPost'}" th:value="更新">
    </form>
</body>